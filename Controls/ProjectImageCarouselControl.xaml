<!--  Copyright (C) Olivier La Haye  -->
<!--  All rights reserved.  -->

<UserControl
    x:Class="ResumeApp.Controls.ProjectImageCarouselControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    x:Name="mProjectImageCarouselControlRoot"
    Focusable="True"
    KeyboardNavigation.TabNavigation="Local"
    LostMouseCapture="OnRootLostMouseCapture"
    PreviewMouseLeftButtonDown="OnRootPreviewMouseLeftButtonDown"
    PreviewMouseLeftButtonUp="OnRootPreviewMouseLeftButtonUp"
    PreviewMouseMove="OnRootPreviewMouseMove"
    PreviewMouseWheel="OnRootPreviewMouseWheel"
    SnapsToDevicePixels="True"
    UseLayoutRounding="True">

    <UserControl.Resources>
        <Style x:Key="ButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Width" Value="38" />
            <Setter Property="Height" Value="38" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Background" Value="{DynamicResource CommonDarkerGrayBrush}" />
            <Setter Property="HorizontalContentAlignment" Value="Center" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border
                            x:Name="mNavigationButtonBorder"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="999"
                            RenderTransformOrigin="0.5,0.5"
                            SnapsToDevicePixels="True">
                            <Border.RenderTransform>
                                <ScaleTransform x:Name="mNavigationButtonScaleTransform" ScaleX="1" ScaleY="1" />
                            </Border.RenderTransform>

                            <ContentPresenter
                                Margin="{TemplateBinding Padding}"
                                HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
                        </Border>

                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation
                                                Storyboard.TargetName="mNavigationButtonScaleTransform"
                                                Storyboard.TargetProperty="ScaleX"
                                                To="1.06"
                                                Duration="0:0:0.12">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseOut" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation
                                                Storyboard.TargetName="mNavigationButtonScaleTransform"
                                                Storyboard.TargetProperty="ScaleY"
                                                To="1.06"
                                                Duration="0:0:0.12">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseOut" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>

                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation
                                                Storyboard.TargetName="mNavigationButtonScaleTransform"
                                                Storyboard.TargetProperty="ScaleX"
                                                To="1"
                                                Duration="0:0:0.16">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseOut" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation
                                                Storyboard.TargetName="mNavigationButtonScaleTransform"
                                                Storyboard.TargetProperty="ScaleY"
                                                To="1"
                                                Duration="0:0:0.16">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseOut" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>

                                <Setter TargetName="mNavigationButtonBorder" Property="BorderBrush" Value="{DynamicResource CommonBrush}" />
                                <Setter Property="Opacity" Value="1" />
                            </Trigger>

                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Opacity" Value="1" />
                            </Trigger>

                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.15" />
                            </Trigger>

                            <Trigger Property="IsKeyboardFocused" Value="True">
                                <Setter TargetName="mNavigationButtonBorder" Property="BorderBrush" Value="{DynamicResource CommonBrush}" />
                                <Setter Property="Opacity" Value="1" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="DotsListBoxItemStyle" TargetType="{x:Type ListBoxItem}">
            <Setter Property="Width" Value="10" />
            <Setter Property="Height" Value="10" />
            <Setter Property="Margin" Value="4,4,4,4" />
            <Setter Property="Focusable" Value="False" />
            <Setter Property="Cursor" Value="Hand" />
            <EventSetter Event="PreviewMouseLeftButtonDown" Handler="OnDotPreviewMouseLeftButtonDown" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ListBoxItem}">
                        <Border
                            x:Name="mDotBorder"
                            Background="{DynamicResource CommonWhiteBrush}"
                            CornerRadius="999"
                            Opacity="0.88"
                            RenderTransformOrigin="0.5,0.5"
                            SnapsToDevicePixels="True">
                            <Border.RenderTransform>
                                <ScaleTransform x:Name="mDotScaleTransform" ScaleX="1" ScaleY="1" />
                            </Border.RenderTransform>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation
                                                Storyboard.TargetName="mDotScaleTransform"
                                                Storyboard.TargetProperty="ScaleX"
                                                To="1.35"
                                                Duration="0:0:0.12">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseOut" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation
                                                Storyboard.TargetName="mDotScaleTransform"
                                                Storyboard.TargetProperty="ScaleY"
                                                To="1.35"
                                                Duration="0:0:0.12">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseOut" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation
                                                Storyboard.TargetName="mDotScaleTransform"
                                                Storyboard.TargetProperty="ScaleX"
                                                To="1"
                                                Duration="0:0:0.16">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseOut" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                            <DoubleAnimation
                                                Storyboard.TargetName="mDotScaleTransform"
                                                Storyboard.TargetProperty="ScaleY"
                                                To="1"
                                                Duration="0:0:0.16">
                                                <DoubleAnimation.EasingFunction>
                                                    <CubicEase EasingMode="EaseOut" />
                                                </DoubleAnimation.EasingFunction>
                                            </DoubleAnimation>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                                <Setter TargetName="mDotBorder" Property="Opacity" Value="0.95" />
                            </Trigger>

                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="mDotBorder" Property="Background" Value="{DynamicResource CommonBrush}" />
                                <Setter TargetName="mDotBorder" Property="Opacity" Value="1" />
                            </Trigger>

                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsSelected" Value="True" />
                                    <Condition Property="IsMouseOver" Value="True" />
                                </MultiTrigger.Conditions>
                                <Setter TargetName="mDotBorder" Property="Opacity" Value="1" />
                            </MultiTrigger>

                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="mDotBorder" Property="Opacity" Value="0.35" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="PlaceholderTextBlockStyle" TargetType="{x:Type TextBlock}">
            <Setter Property="Foreground" Value="{DynamicResource CommonWhiteBrush}" />
            <Setter Property="FontSize" Value="{StaticResource SmallFontSize}" />
            <Setter Property="Opacity" Value="{StaticResource CommonOpacity}" />
            <Setter Property="TextAlignment" Value="Center" />
            <Setter Property="TextWrapping" Value="Wrap" />
        </Style>
    </UserControl.Resources>

    <Grid x:Name="mCarouselLayoutRoot">
        <Border x:Name="mMediaCardBorder" SnapsToDevicePixels="True">
            <Border.Style>
                <Style TargetType="{x:Type Border}">
                    <Setter Property="Height" Value="360" />
                    <Setter Property="CornerRadius" Value="{StaticResource ExtraSmallCornerRadius}" />
                    <Setter Property="Background">
                        <Setter.Value>
                            <SolidColorBrush Opacity="0.5" Color="{DynamicResource CommonGrayColor}" />
                        </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsFullscreen, ElementName=mProjectImageCarouselControlRoot}" Value="True">
                            <Setter Property="Height" Value="{x:Static sys:Double.NaN}" />
                            <Setter Property="CornerRadius" Value="0" />
                            <Setter Property="Background" Value="Transparent" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>

            <Grid
                x:Name="mMediaRootGrid"
                Margin="{StaticResource CommonTopBottomThickness}"
                ClipToBounds="True"
                SizeChanged="OnMediaRootGridSizeChanged"
                SnapsToDevicePixels="True">

                <Grid
                    x:Name="mCarouselImagesHostGrid"
                    ClipToBounds="True"
                    IsHitTestVisible="False">
                    <Image
                        x:Name="mLeftStep3Image"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Opacity="0"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        RenderTransformOrigin="0.5,0.5"
                        Stretch="Uniform"
                        Visibility="Collapsed">
                        <Image.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                <TranslateTransform X="0" Y="0" />
                            </TransformGroup>
                        </Image.RenderTransform>
                    </Image>

                    <Image
                        x:Name="mRightStep3Image"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Opacity="0"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        RenderTransformOrigin="0.5,0.5"
                        Stretch="Uniform"
                        Visibility="Collapsed">
                        <Image.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                <TranslateTransform X="0" Y="0" />
                            </TransformGroup>
                        </Image.RenderTransform>
                    </Image>

                    <Image
                        x:Name="mLeftStep2Image"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Opacity="0"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        RenderTransformOrigin="0.5,0.5"
                        Stretch="Uniform"
                        Visibility="Collapsed">
                        <Image.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                <TranslateTransform X="0" Y="0" />
                            </TransformGroup>
                        </Image.RenderTransform>
                    </Image>

                    <Image
                        x:Name="mRightStep2Image"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Opacity="0"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        RenderTransformOrigin="0.5,0.5"
                        Stretch="Uniform"
                        Visibility="Collapsed">
                        <Image.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                <TranslateTransform X="0" Y="0" />
                            </TransformGroup>
                        </Image.RenderTransform>
                    </Image>

                    <Image
                        x:Name="mLeftStep1Image"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Opacity="0"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        RenderTransformOrigin="0.5,0.5"
                        Stretch="Uniform"
                        Visibility="Collapsed">
                        <Image.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                <TranslateTransform X="0" Y="0" />
                            </TransformGroup>
                        </Image.RenderTransform>
                    </Image>

                    <Image
                        x:Name="mRightStep1Image"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Opacity="0"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        RenderTransformOrigin="0.5,0.5"
                        Stretch="Uniform"
                        Visibility="Collapsed">
                        <Image.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                <TranslateTransform X="0" Y="0" />
                            </TransformGroup>
                        </Image.RenderTransform>
                    </Image>

                    <Image
                        x:Name="mCurrentImageImage"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Opacity="0"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        RenderTransformOrigin="0.5,0.5"
                        Stretch="Uniform"
                        Visibility="Collapsed">
                        <Image.RenderTransform>
                            <TransformGroup>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                                <TranslateTransform X="0" Y="0" />
                            </TransformGroup>
                        </Image.RenderTransform>
                    </Image>
                </Grid>

                <Button
                    x:Name="mExpandButton"
                    Margin="0,12,12,0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Panel.ZIndex="30"
                    Click="OnExpandButtonClick"
                    Style="{StaticResource ButtonStyle}">
                    <Path
                        x:Name="mExpandIconPath"
                        Width="15"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Fill="{DynamicResource CommonWhiteBrush}"
                        Data="F1 M 342.533,277.422 L 196.445,132.311 L 253.778,75.556 C 270.960,58.026 270.679,29.887 253.150,12.705 C 244.888,4.606 233.792,0.048 222.222,0.000 L 44.445,0.000 C 20.020,-0.001 0.171,19.709 0.000,44.133 L 0.000,220.578 C -0.028,238.482 10.904,254.579 27.556,261.156 C 44.097,268.064 63.165,264.425 76.000,251.911 L 133.333,195.022 L 279.467,340.000 C 296.973,357.236 325.071,357.236 342.578,340.000 C 359.883,322.800 359.968,294.828 342.768,277.524 C 342.705,277.460 342.641,277.397 342.578,277.333 L 342.533,277.422 Z M 457.467,277.422 L 603.689,132.356 L 546.356,75.556 C 533.784,62.900 530.098,43.906 537.022,27.467 C 543.722,10.846 559.858,-0.028 577.778,0.000 L 755.556,0.000 C 779.981,-0.001 799.829,19.709 800.000,44.133 L 800.000,220.578 C 800.010,238.465 789.082,254.540 772.445,261.111 C 755.903,268.020 736.835,264.381 724.000,251.867 L 666.667,194.978 L 520.533,340.000 C 503.027,357.236 474.929,357.236 457.422,340.000 C 440.142,322.845 440.040,294.930 457.195,277.649 C 457.271,277.573 457.346,277.498 457.422,277.422 L 457.467,277.422 Z M 457.467,516.667 L 603.689,661.778 L 546.356,718.667 C 529.173,736.196 529.454,764.335 546.983,781.517 C 555.246,789.617 566.341,794.174 577.911,794.222 L 755.689,794.222 C 780.097,794.223 799.938,774.540 800.133,750.133 L 800.133,573.689 C 800.161,555.785 789.230,539.688 772.578,533.111 C 756.037,526.203 736.968,529.841 724.133,542.356 L 666.667,599.111 L 520.445,454.044 C 502.949,436.867 474.918,436.867 457.422,454.044 C 440.117,471.175 439.976,499.090 457.106,516.395 C 457.211,516.501 457.316,516.606 457.422,516.711 L 457.467,516.667 Z M 342.533,516.711 L 196.311,661.822 L 253.645,718.800 C 270.827,736.329 270.546,764.468 253.017,781.651 C 244.754,789.750 233.659,794.308 222.089,794.356 L 44.445,794.356 C 20.020,794.356 0.171,774.647 0.000,750.222 L 0.000,573.778 C -0.046,555.858 10.888,539.738 27.556,533.156 C 44.097,526.247 63.165,529.886 76.000,542.400 L 133.333,599.111 L 279.556,454.044 C 297.051,436.867 325.082,436.867 342.578,454.044 C 359.883,471.244 359.968,499.216 342.768,516.521 C 342.705,516.585 342.641,516.648 342.578,516.711 L 342.533,516.711 Z"
                        Stretch="Uniform" />
                </Button>

                <Grid
                    x:Name="mPlaceholderGrid"
                    Panel.ZIndex="40"
                    Visibility="Collapsed">
                    <StackPanel
                        x:Name="mPlaceholderStackPanel"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">

                        <Viewbox
                            x:Name="mPlaceholderIconViewbox"
                            Width="34"
                            Height="34">
                            <Path
                                x:Name="mPlaceholderIconPath"
                                Fill="{DynamicResource CommonWhiteBrush}"
                                Data="M2,5 C2,3.343 3.343,2 5,2 H19 C20.657,2 22,3.343 22,5 V19 C22,20.657 20.657,22 19,22 H5 C3.343,22 2,20.657 2,19 Z M6,7 A2,2 0 1 0 6,3 A2,2 0 1 0 6,7 Z M4,19 H20 V16 L16,12 L12,16 L9,13 Z"
                                Opacity="{StaticResource LowOpacity}" />
                        </Viewbox>

                        <TextBlock
                            x:Name="mPlaceholderTextBlock"
                            Margin="{StaticResource SmallThickness}"
                            Style="{StaticResource PlaceholderTextBlockStyle}"
                            Text="{Binding PlaceholderText, ElementName=mProjectImageCarouselControlRoot}" />
                    </StackPanel>
                </Grid>

                <Grid
                    x:Name="mNavigationOverlayGrid"
                    Panel.ZIndex="50"
                    Visibility="Collapsed">
                    <Grid.Style>
                        <Style TargetType="{x:Type Grid}">
                            <Setter Property="Opacity" Value="0.9" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsMouseOver, ElementName=mMediaRootGrid}" Value="True">
                                    <Setter Property="Opacity" Value="1" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding IsKeyboardFocusWithin, ElementName=mProjectImageCarouselControlRoot}" Value="True">
                                    <Setter Property="Opacity" Value="1" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Button
                        x:Name="mPreviousButton"
                        Margin="12,0,0,0"
                        HorizontalAlignment="Left"
                        Click="OnPreviousButtonClick"
                        Style="{StaticResource ButtonStyle}">
                        <Path
                            Width="15"
                            Fill="{DynamicResource CommonWhiteBrush}"
                            Data="M17.920015,8.074995 H11.690015 H6.079985 C5.119985,8.074995 4.639985,9.234995 5.319985,9.915005 L10.500015,15.095005 C11.330015,15.925005 12.680015,15.925005 13.510015,15.095005 L15.480015,13.125005 L18.690015,9.915005 C19.360015,9.234995 18.880015,8.074995 17.920015,8.074995 Z"
                            RenderTransformOrigin="0.5,0.5"
                            Stretch="Uniform">
                            <Path.RenderTransform>
                                <RotateTransform Angle="90" />
                            </Path.RenderTransform>
                        </Path>
                    </Button>

                    <Button
                        x:Name="mNextButton"
                        Grid.Column="2"
                        Margin="0,0,12,0"
                        HorizontalAlignment="Right"
                        Click="OnNextButtonClick"
                        Style="{StaticResource ButtonStyle}">
                        <Path
                            Width="15"
                            Fill="{DynamicResource CommonWhiteBrush}"
                            Data="M17.920015,8.074995 H11.690015 H6.079985 C5.119985,8.074995 4.639985,9.234995 5.319985,9.915005 L10.500015,15.095005 C11.330015,15.925005 12.680015,15.925005 13.510015,15.095005 L15.480015,13.125005 L18.690015,9.915005 C19.360015,9.234995 18.880015,8.074995 17.920015,8.074995 Z"
                            RenderTransformOrigin="0.5,0.5"
                            Stretch="Uniform">
                            <Path.RenderTransform>
                                <RotateTransform Angle="270" />
                            </Path.RenderTransform>
                        </Path>
                    </Button>

                    <Border
                        x:Name="mDotsBackgroundBorder"
                        Grid.Column="0"
                        Grid.ColumnSpan="3"
                        Margin="0,0,0,10"
                        Padding="10,6"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Bottom"
                        Background="{DynamicResource CommonDarkerGrayBrush}"
                        BorderBrush="{DynamicResource CommonLightGrayBrush}"
                        BorderThickness="{StaticResource ExtraExtraSmallThickness}"
                        CornerRadius="{StaticResource SmallCornerRadius}"
                        SnapsToDevicePixels="True">
                        <ListBox
                            x:Name="mDotsListBox"
                            Background="Transparent"
                            BorderThickness="0"
                            Focusable="False"
                            ItemsSource="{Binding Images, ElementName=mProjectImageCarouselControlRoot}"
                            ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                            ScrollViewer.VerticalScrollBarVisibility="Disabled"
                            SelectedIndex="{Binding SelectedIndex, ElementName=mProjectImageCarouselControlRoot, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                            <ListBox.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <StackPanel x:Name="mDotsStackPanel" Orientation="Horizontal" />
                                </ItemsPanelTemplate>
                            </ListBox.ItemsPanel>
                            <ListBox.ItemContainerStyle>
                                <Style BasedOn="{StaticResource DotsListBoxItemStyle}" TargetType="{x:Type ListBoxItem}" />
                            </ListBox.ItemContainerStyle>
                        </ListBox>
                    </Border>
                </Grid>

                <Border
                    x:Name="mFocusRingBorder"
                    Panel.ZIndex="60"
                    BorderBrush="{DynamicResource CommonBrush}"
                    BorderThickness="{StaticResource ExtraSmallThickness}"
                    CornerRadius="{Binding CornerRadius, ElementName=mMediaCardBorder}"
                    IsHitTestVisible="False"
                    Opacity="0"
                    SnapsToDevicePixels="True">
                    <Border.Style>
                        <Style TargetType="{x:Type Border}">
                            <Setter Property="Opacity" Value="0" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsKeyboardFocusWithin, ElementName=mProjectImageCarouselControlRoot}" Value="True">
                                    <Setter Property="Opacity" Value="0.9" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                </Border>
            </Grid>
        </Border>
    </Grid>
</UserControl>
